---
layout: post
title: "Raspberry Pi 원격접속 설정하기"
date: "2014-09-20"
tags: raspberry-pi linux tutorial
---

최근 동아리 프로젝트에 사용 겸 나중에 개인적으로 가지고 놀 용도로 Raspberry Pi Model B+ 를 구입했습니다.
그리고 남는 마이크로 SD 카드에 Raspbian 을 설치 했습니다.
그동안 hdmi 케이블이 없다보니 집에서 테스트 해보지 못했는대, 이번에 동아리 지원금을 이용해 하나 구했습니다.
구한 김에 원격 접속 설정을 했습니다. 언제까지 케이블이랑 키보드, 마우스 다 들고 다니면서 연결 할 순 없으니까요.

원격 접속 설정 한 김에 포스트를 통해 방법을 정리해 두고자 합니다.
참고로 제가 현제 Raspbian 이 설치된 라즈베리파이 B+ 를 사용중이니 이것을 기준으로 작성 하겠습니다.

라즈베리 파이는 두가지 정도의 방법으로 원격 접속을 할 수 있습니다.

하나는 많이 쓰는 ssh, 나머지 하나는 vnc 로 원격 데스크톱에 접속하는 것입니다.
ssh 는 CLI환경에서 명령어로 접속하여 명령어로 제아합니다. vnc는 팀뷰어 처럼 부팅된 라즈베리 파이의 gui 화면이 나옵니다.
명령어에 익숙하지 않으신 분은 아마 vnc 사용을 선호하실 것 같내요.

## 화면 연결이 먼저 필요합니다.

우리가 원격 접속을 설정하기 전 까지는 원경으로 라즈베리 파이에 접속할 수 없으니. 화면에 연결을 해서 확인하면서.
원격 설정을 설정해야 합니다. hdmi 케이블, 키보드, 마우스, 전원 공급 장치 등 준비하셔서 라즈베리 파이에 먼저 연결하세요.
hdmi 케이블은 당연히 모니터에 연결시면 됩니다.

## ssh 서버 활성화하기

보통 라즈베리파이의 ssh 서버는 기본적으로 활성화 되어 있다고 합니다. 혹시나 비활성화 되어 있을수도 있으니,
한번 확인해 봅시다.

라즈베리파이 설정화면을 열어주세요. 보통 Raspbian 을 처음 부팅하시는 경우에 설정 화면이 나타납니다.
나타나지 않는 경우, 터미널을 열고 아래 명령어를 실행하셔서, 설정 화면을 열어보세요.
```bash
sudo raspi-config
```

설정 화면에서, "8 Advanced Options > A4 SSH" 로 들어가서, <Enable> 을 선택해 주세요.
그럼 ssh 서버가 활성됩니다. 설정 후에 설정 초기 화면으로 돌아오는대, <Finish> 를 선택해서, 설정을 마칩시다.
설정을 마치신 후 에는 라즈베리 파이를 재부팅 하세요. 그러면 이제 ssh 접속을 사용하실 수 있습니다.
접속시 ssh 비밀번호를 요구하는대, 기본 계정이름은 pi, 기본 비밀번호는 raspberry 입니다.

ssh로 라즈베리 파이에 접속하려면, 아래 명령어를 이용하세요. ssh 를 이용하여 라즈베리 파이의 pi 사용자에 접속합니다.
```bash
ssh (라즈베리파이에 할당된 IP주소) -ㅣ pi

#접속 예시
ssh 192.168.1.5 -l pi
```

이 명령어로도 접속이 가능합니다.
```bash
ssh pi@(라즈베리파이에 할당된 IP주소)

#접속 예시
ssh pi@192.168.1.5
```

접속 하셨다면, 이제 라즈베리파이 에서 사용 가능한 명령어들을 쓸 수 있습니다.
접속을 종료하려면, 간단히 아래 명령어를 실행하세요.
```bash
exit
```

## vnc 서버 설정하기

vnc 서버는 기본적으로 제공되지 않으니, 설치해야 합니다. 라즈베리 파이는 사양이 낮으니.
저사양에서 쓰기 적합한 TightVNC 서버를 설치 해보겠습니다.

설치는 apt-get 을 이용합니다.
```bash
#패키지 저장소 정보 업데이트
sudo apt-get update
#TightVNC 설치
sudo apt-get install tightvncserver
```

설치가 끝났으니 vnc 서버를 켜 봅시다. 아래 명령어를 실행하세요.
```bash
vncserver
```

처음 하는 경우 vnc 접속시 사용할 비밀번호를 설정합니다. 그렇치 않으면 바로 vnc 접속이 켜집니다.
잘 작동중인지 확인해 봅시다. 아래 명령어를 통해 Xtightvnc 가 5901 포트와 6001 포트에서 작동중인지 확인해보세요.
TightVNC는 기본적으로 5901 포트와 6001 포트에서 작동합니다.
```bash
netstat -tcpul
```

설정은 끝났습니다. VNC 뷰어 앱에서. 주소 란에 (라즈베리파이의 IP):(포트번호) [예시 192.168.1.5:5901] 라즈베리파이 주소를,
비밀번호는 본인이 정한걸로 하고 접속을 시도해 보세요. 보통 잘 나타나야 정상입니다.
